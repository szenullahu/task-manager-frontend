<div class="container mt-5">
  <div class="card shadow-sm border-0 rounded-3 add-edit-card mx-auto" style="max-width: 500px;">
    <div class="card-body p-4">
      <h4 class="mb-4 text-center fw-semibold">Create Account</h4>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row g-3">

        <!-- Username -->
        <div class="col-12">
          <label class="form-label" for="username">Username</label>
          <input
            id="username"
            class="form-control"
            formControlName="username"
            type="text"
            placeholder="Enter username"
            [class.is-invalid]="form.get('username')?.invalid && form.get('username')?.touched"
          />
          @if (form.get('username')?.errors?.['required']) {
            <div class="invalid-feedback">Username is required.</div>
          }
        </div>

        <!-- Email -->
        <div class="col-12">
          <label class="form-label" for="email">Email</label>
          <input
            id="email"
            class="form-control"
            formControlName="email"
            type="email"
            placeholder="Enter email"
            [class.is-invalid]="form.get('email')?.invalid && form.get('email')?.touched"
          />
          @if (form.get('email')?.errors?.['required']) {
            <div class="invalid-feedback">Email is required.</div>
          }
          @if (form.get('email')?.errors?.['email']) {
            <div class="invalid-feedback">Please enter a valid email address.</div>
          }
        </div>

        <!-- Password -->
        <div class="col-12">
          <label class="form-label" for="password">Password</label>
          <input
            id="password"
            class="form-control"
            formControlName="password"
            type="password"
            placeholder="Enter password"
            [class.is-invalid]="form.get('password')?.invalid && form.get('password')?.touched"
          />
          @if (form.get('password')?.errors?.['required']) {
            <div class="invalid-feedback">Password is required.</div>
          }
          @if (form.get('password')?.errors?.['minlength']) {
            <div class="invalid-feedback">Password must be at least 8 characters.</div>
          }
        </div>

        <!-- First Name -->
        <div class="col-md-6">
          <label class="form-label" for="firstname">First Name</label>
          <input
            id="firstname"
            class="form-control"
            formControlName="firstname"
            type="text"
            placeholder="First name"
            (blur)="capitalizeFirst('firstname')"
            [class.is-invalid]="form.get('firstname')?.invalid && form.get('firstname')?.touched"
          />
          @if (form.get('firstname')?.errors?.['required']) {
            <div class="invalid-feedback">First name is required.</div>
          }
        </div>

        <!-- Surname -->
        <div class="col-md-6">
          <label class="form-label" for="surname">Surname</label>
          <input
            id="surname"
            class="form-control"
            formControlName="surname"
            type="text"
            placeholder="Surname"
            (blur)="capitalizeFirst('surname')"
            [class.is-invalid]="form.get('surname')?.invalid && form.get('surname')?.touched"
          />
          @if (form.get('surname')?.errors?.['required']) {
            <div class="invalid-feedback">Surname is required.</div>
          }
        </div>

        <!-- Actions -->
        <div class="col-12 d-flex flex-column align-items-center gap-2 mt-3">
          <button class="btn btn-primary w-100" type="submit" [disabled]="form.invalid">
            Register
          </button>
          <p class="m-0 text-secondary text-center">
            Already have an account?
            <a routerLink="/login" class="link-primary text-decoration-none">Sign In</a>
          </p>
        </div>

      </form>
    </div>
  </div>
</div>
